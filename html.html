<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
<head>
	<title>title</title>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script>
	<script type="text/javascript" src="js/jquery.hotkeys.js"></script>
	<script type="text/javascript" src="js/key_status.js"></script>
	<script type="text/javascript" src="js/util.js"></script>
	<link rel="stylesheet" type="text/css" href="styles.css" />
</head>

<body>
	<script>
			var canvas_width = 480;
			var canvas_height = 320;
			var botX = 2;
			var botY = 2;
			var mx = 2;
			var my = 4;
			var WIDTH = 568;
			var HEIGHT = 262;
			
			var canvasElement = $("<canvas width='"+canvas_width+"' height='"+canvas_height+"' style='border: 2px solid;'></canvas>");
			var canvas = canvasElement.get(0).getContext("2d");
			canvasElement.appendTo('body');
			
			var FPS = 30;
			setInterval(function(){
				update();
				draw();
			}, 1000/FPS);
			
			var textX = 50;
			var textY = 50;
			
			var player = {
				color: "#000",
				x: 220,
				y: 310,
				width: 50,
				height: 10,
				draw: function() {
				canvas.fillStyle = this.color;
				canvas.fillRect(this.x, this.y, this.width, this.height);
				}
			};
			
			var player2 = {
				color: "#000",
				x: 220,
				y: 0,
				width: 50,
				height: 10,
				draw: function() {
				canvas.fillStyle = this.color;
				canvas.fillRect(this.x, this.y, this.width, this.height);
				}
			};
			
			function collides(a, b) {
			  return a.x < b.x + b.width &&
					 a.x + a.width > b.x &&
					 a.y < b.y + b.height &&
					 a.y + a.height > b.y;
			}
			
			function update() {
				if (keydown.left) {
					player.x -= 5;
					player2.x -= 5;
				}

				if (keydown.right) {
					player.x += 5;
					player2.x += 5;
				}
				
				if (keydown.up) {
					//player.y -= 5;
				}
				
				if (keydown.down) {
					//player.y += 5;
				}
				
				player.x = player.x.clamp(0, canvas_width - player.width);
				
				player2.x = player.x.clamp(0, canvas_width - player.width);
				
			}
			
			function circle(x,y,r) {
			  canvas.beginPath();
			  canvas.arc(x, y, r, 0, Math.PI*2, true);
			  canvas.fill();
			}
			
			
			
			function draw() {
				canvas.clearRect(0, 0, canvas_width, canvas_height);
				player.draw();
				player2.draw();
				var cir = circle(botX, botY, 5);
				
				
				
				if (botX + mx > canvas_width || botX + mx < 0){
					mx = -mx;
				}
				if (botY + my > canvas_height || botY + my < 0){
					my = -my;
					//alert('Game Over');
				}
				botX += mx;
				botY += my;
				
				if (collides(cir, player)) {
					
					alert('hello');
					
				}
				
				
			}
			
			/*
			var canvas_width = 480;
			var canvas_height = 320;
			var botX = 2;
			var botY = 2;
			var mx = 2;
			var my = 4;
			
			
			*/
			
			
			
			
	</script>
</body>

</html>
